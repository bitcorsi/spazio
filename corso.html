<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dettaglio Corso – Portale Maker</title>

  <link rel="stylesheet" href="style.css" />

  <style>
    /* LAYOUT GENERALE */
    .course-layout {
      display: flex;
      gap: 28px;
      margin-top: 40px;
      align-items: flex-start;
      flex-wrap: wrap;
    }

    /* COLONNA IMMAGINE */
    .course-image-box {
      flex: 1 1 380px;
    }

    .course-image-box img {
      width: 100%;
      height: 320px;
      object-fit: cover;
      border-radius: 16px;
    }

    /* COLONNA DATI */
    .course-info-box {
      flex: 1 1 380px;
      background: white;
      padding: 26px;
      border-radius: 16px;
      box-shadow: var(--shadow);
    }

    .course-info-box h2 {
      margin-top: 0;
      font-size: 1.9rem;
      font-weight: 800;
      color: var(--primary-dark);
    }

    .course-field {
      margin-bottom: 14px;
      font-size: 1rem;
    }

    .course-field strong {
      color: var(--primary-dark);
      display: inline-block;
      width: 110px;
    }

    .course-description {
      margin-top: 35px;
      background: white;
      padding: 24px;
      border-radius: 16px;
      box-shadow: var(--shadow);
    }

    .course-description h3 {
      margin-top: 0;
      font-size: 1.4rem;
      color: var(--primary-dark);
    }

    /* RESPONSIVE */
    @media (max-width: 850px) {
      .course-layout {
        flex-direction: column;
      }
      .course-image-box img {
        height: 240px;
      }
    }
  </style>
</head>

<body>

<header>
  <h1>Portale Maker</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="corsi.html">Corsi</a>
    <a href="proponi.html">Proponi</a>
  </nav>
</header>

<div class="container">

  <div id="corso-container">
    <!-- Lo script riempirà qui -->
    <p>Caricamento corso...</p>
  </div>

</div>

<script src="script.js"></script>

<script>
/* ======== TEMPLATE RENDERING ======== */
function renderCourseDetail(data) {
  const c = data.fields;

  const img = c.immagine ? c.immagine[0].url : "https://via.placeholder.com/800x500?text=Corso";

  document.getElementById("corso-container").innerHTML = `
  
    <div class="course-layout">

      <!-- IMMAGINE A SINISTRA -->
      <div class="course-image-box">
        <img src="${img}" alt="${c.titolo}">
      </div>

      <!-- DETTAGLI A DESTRA -->
      <div class="course-info-box">
        <h2>${c.titolo}</h2>

        <div class="course-field"><strong>Categoria:</strong> ${c.categoria || "—"}</div>
        <div class="course-field"><strong>Età:</strong> ${c.eta_min || "?"}–${c.eta_max || "?"}</div>
        <div class="course-field"><strong>Indirizzo:</strong> ${c.indirizzo || "—"}</div>
        <div class="course-field"><strong>Orario:</strong> ${c.orario || "—"}</div>
        <div class="course-field"><strong>Periodo:</strong> ${c.data_inizio || ""} → ${c.data_fine || ""}</div>

        <div class="course-field"><strong>Email:</strong> ${c.contatto_email || "—"}</div>
        <div class="course-field"><strong>Telefono:</strong> ${c.contatto_tel || "—"}</div>

        ${c.link_iscrizione ? `
          <a class="btn" href="${c.link_iscrizione}" target="_blank">Iscriviti</a>
        ` : ""}
      </div>
    </div>

    <!-- DESCRIZIONE SOTTO -->
    <div class="course-description">
      <h3>Descrizione</h3>
      <p>${c.descrizione || "Nessuna descrizione disponibile."}</p>
    </div>
  `;
}
</script>

</body>
</html>
